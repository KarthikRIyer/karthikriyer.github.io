<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> GSoC '20 Final Report | Karthik Ramesh Iyer </title> <meta name="author" content="Karthik Ramesh Iyer"> <meta name="description" content="CS grad student at Texas A&amp;M University "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://karthikriyer.github.io/blog/2020/gsoc-20-final-report-copy/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Karthik</span> Ramesh Iyer </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">GSoC '20 Final Report</h1> <p class="post-meta"> Created on August 26, 2020 </p> <p class="post-tags"> <a href="/blog/2020"> <i class="fa-solid fa-calendar fa-sm"></i> 2020 </a>   ·   <a href="/blog/tag/gsoc"> <i class="fa-solid fa-hashtag fa-sm"></i> gsoc</a>   <a href="/blog/tag/aswf"> <i class="fa-solid fa-hashtag fa-sm"></i> aswf</a>   ·   <a href="/blog/category/gsoc"> <i class="fa-solid fa-tag fa-sm"></i> gsoc</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p><img src="/assets/images/gsoc.jpg" alt=""></p> <p>Hey! GSoC’20 is coming to an end and I’m excited to share my experience and talk about what I worked on this time.</p> <p>This year I worked with the Academy Software Foundation on the OpenTimelineIO project. Ever since I heard about ASWF I was looking for an opportunity to get involved. When I saw it in this year’s GSoC orgs list, I knew this was my chance. Working at Pixar is a dream of mine, and contributing to one of their past projects and being able to work with engineers at Pixar, was in a way a dream come true.</p> <p>For those who are not aware about the OpenTimelineIO project, it is an interchange format and a library for use with editorial cut information. In simpler words we can use this format and library to share video editing timelines between different content creation software, and much more! For more information see <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO" rel="external nofollow noopener" target="_blank">this</a>.</p> <p>My proposal for this year’s project had three parts, one of which wasn’t in OTIO’s ideas list.</p> <ul> <li>Add support for all the predicates from Allen’s Interval Algebra for TimeRange.</li> <li>C language bindings</li> <li>Java language bindings (this wasn’t in the ideas list)</li> </ul> <p>OTIO has some core math libraries for working with time, and a restructuring of these libraries around a more consistent mathematical framework has been in planning. The support for <a href="https://en.wikipedia.org/wiki/Allen%27s_interval_algebra" rel="external nofollow noopener" target="_blank">Allen’s Interval Algebra</a> is one of the first changes amongst many to come. I had to add operators to determine relationships between time ranges. For example, to check if two ranges had any intersection, or if one range came before another.</p> <p>OTIO is written in C++. Having it’s functionality in multiple languages is always going to be helpful. It can have use cases in other applications or tools, which might need a different language. In order to bind with languages like Lua, Go or Ruby, first we need to wrap the C++ API in C. This part of the project, although relatively straightforward, taught me a few things. Mainly because I had never written C before.</p> <p>The last leg of GSoC was the most fun for me. I worked on Java bindings. It was the first programming language I learnt and have developed a level of comfort with it over the years. I gained a lot out of working on this part of the project. The reason being that I had to work with two different languages at the same time, but more importantly a large team of advisors came together to help out with it. I received a lot of help from the team in understanding how to work with one language (Java) that had in-built reference counting and garbage collection of objects and another (C++) that didn’t have any of these. I got guidance on idiomatic ways to do specific things in Java and on how to keep the API close to how it would be natively on the platform, while writing bindings. All in all, it’s been a fun and enriching experience.</p> <p>Below is a brief of all the work that was done, prior to and during GSoC, along with future plans.</p> <h3 id="prior-to-gsoc">Prior to GSoC</h3> <p>I worked on the following features/issues:</p> <ul> <li>Implement OTIO to SVG Adapter <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/649" rel="external nofollow noopener" target="_blank">PR #649</a> (open)</li> <li>Indicate Empty track in otioview and display track name <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/677" rel="external nofollow noopener" target="_blank">PR #677</a> (merged)</li> <li>Implement Clip Inspector <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/686" rel="external nofollow noopener" target="_blank">PR #686</a> (open)</li> <li>Toggle ‘complete track name’ display on double click in otioview <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/690" rel="external nofollow noopener" target="_blank">PR #690</a> (merged)</li> </ul> <h3 id="during-gsoc">During GSoC</h3> <ul> <li>Add support for predicates from Allen’s Interval Algebra for TimeRange <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/697" rel="external nofollow noopener" target="_blank">PR #697</a> (merged)</li> <li>Initialize C language bindings <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/696" rel="external nofollow noopener" target="_blank">PR #696</a> (merged)</li> <li>C bindings - wrap safely typed any <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/720" rel="external nofollow noopener" target="_blank">PR #720</a> (merged)</li> <li>Add tests for C-bindings <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/723" rel="external nofollow noopener" target="_blank">PR #723</a> (unmerged and closed)</li> <li>Enforce stricter interval algebra rules for overlaps and contains <a href="Enforce%20stricter%20interval%20algebra%20rules%20for%20overlaps%20and%20contains">PR #760</a> (merged)</li> <li>Create Java Bindings <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/753" rel="external nofollow noopener" target="_blank">PR #753</a> (open)</li> <li>Remove redundant test and add comments to tests <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/712" rel="external nofollow noopener" target="_blank">PR #712</a>, <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/723" rel="external nofollow noopener" target="_blank">PR #725</a>, <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/755" rel="external nofollow noopener" target="_blank">PR #755</a>, <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/757" rel="external nofollow noopener" target="_blank">PR #757</a> (merged)</li> <li>Use std::fabs() instead of abs() in rationalTime.cpp <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/721" rel="external nofollow noopener" target="_blank">PR #721</a> (merged)</li> <li>Add .clang-format file <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/707" rel="external nofollow noopener" target="_blank">PR #707</a> (open)</li> <li>Create GitHub Actions Workflow <a href="https://github.com/PixarAnimationStudios/OpenTimelineIO/pull/752" rel="external nofollow noopener" target="_blank">PR #752</a> (open)</li> </ul> <h3 id="future-plans">Future plans</h3> <p>Although I’ve met the goals as planned, there is still some polishing work to be done on the bindings. My mentor Nick Porcino is working with the C-bindings to make it easier to use and making a sample app to demonstrate the library. The Java bindings can be made more feature complete by implementing a few algorithms not present in the C++ core, but in the OTIO python bindings. The Java bindings have been added as a goal for the next beta release, so I need to make it release ready. With the mobile devices becoming cheaper and more powerful, content creation and consumption on phones is increasing. So building and maintaining the Java bindings for Android makes sense. My next goal will be to package it for Android and build a sample app to view OTIO timelines.</p> <h3 id="highlights-and-challenges">Highlights and challenges</h3> <ul> <li> <strong>Making sure the TimeRange operators follow the correct rules:</strong> The diagrams found online explaining these rules can be ambiguous. I had to do some legwork and look at existing implementations of these operators elsewhere to make sure I was doing the right thing.</li> <li> <strong>Reference counting in the bindings:</strong> It takes some time for beginners to understand how reference counting works in OTIO. It was the same with me. Initially I implemented the C-bindings without taking care of reference counting and had a hard time trying to debug segmentation faults. Nick came to the rescue and found the reason for the crashes and fixed them. Once I’d understood this well I didn’t have much trouble working on the Java bindings.</li> <li> <strong>Getting Java and the C++ JNI code to build:</strong> A major amount of time went into figuring out a way to build the native code and the Java code in one go, packaging everything into a JAR archive and using it in other projects. Some part of this was done prior to GSoC and some after the work on Java bindings concluded. Most of it was going through other projects on GitHub, reading Gradle’s documentation and a lot of trial and error. Finally the build works well on all platforms.</li> <li> <strong>Garbage collection and freeing native memory in Java bindings:</strong> This was the most confusing part for me in the Java bindings. I wouldn’t have been able to figure out a method to do this without the help from Anton Margoline and Eric Reinecke. We used PhantomReferences to find out when an object was to be garbage collected and freed native memory accordingly. This was a new concept for me and I had fun implementing it.</li> <li> <strong>Maintaining the native platform’s feel in the bindings:</strong> It was more of a precaution than a challenge. It included writing some boilerplate code to make everything feel Java-like as much as possible. I picked up a few things in Java-8 along the way, that I hadn’t used before.</li> </ul> <p>It’s been a fun and productive summer and I’m a little sad that it’s my last time being a GSoC candidate. But I’m surely going to stick around as a regular contributor to OTIO and try to get other people involved, maybe mentor future GSoC students!</p> <h3 id="acknowledgements">Acknowledgements</h3> <p>I’d like to thank my mentors and all the others who helped me during these three months. <a href="https://github.com/meshula" rel="external nofollow noopener" target="_blank">Nick Porcino</a> has been in constant contact with me throughout GSoC providing feedback and helping clear doubts on the go. <a href="https://github.com/jminor" rel="external nofollow noopener" target="_blank">Joshua Minor</a>, <a href="https://github.com/ssteinbach" rel="external nofollow noopener" target="_blank">Stephan Steinbach</a> and <a href="https://github.com/reinecke" rel="external nofollow noopener" target="_blank">Eric Reinecke</a> have helped clarify issues with all OTIO work GSoC and non-GSoC, such as explaining the semantics of the TimeRange operators, how timecodes worked and how to get CI working properly. <a href="https://github.com/margant" rel="external nofollow noopener" target="_blank">Anton Margoline</a> and Eric Reinecke provided invaluable guidance with the Java bindings. Last but not the least, <a href="https://github.com/davidbaraff" rel="external nofollow noopener" target="_blank">David Baraff</a> helped me understand how reference counting worked with the python bindings. He was very patient and answered the silliest of doubts.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/hair-sim/">Hair Simulation with Position Based Dynamics</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/gsoc-19-final-report/">GSoC '19 Final Report</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/gsoc-coding-phase-part-4/">GSoC Coding Phase - Part 4</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/gsoc-coding-phase-part-3/">GSoC Coding Phase - Part 3</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/gsoc-coding-phase-part-2/">GSoC Coding Phase - Part 2</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Karthik Ramesh Iyer. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>